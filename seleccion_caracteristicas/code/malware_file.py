import os
import pandas as pd
import csv

dir_of_files = \
    "/home/lechu/Documents/GitHub/Prueba-de-concepto/extraccion_ tipos_ atributo/data/apks/malware/vector_txt"
malware_file = "../raw_data/malware_file.csv"


def exportar_csv():
    vector_nombre_malware = []
    diccionario_malware = {}
    for filename in os.listdir(dir_of_files):
        # print(filename)
        # nombre del apk que ser√° usado para mostrar el nombre del apk y no de su respectivo archivo .txt.
        apk_name = filename.rsplit('.', 1)[0]
        vector_nombre_malware.append(apk_name)
        # print (vector_nombre_malware)
    diccionario_malware["malware_name"] = vector_nombre_malware
    # print(diccionario_malware)
    df_malware = pd.DataFrame(diccionario_malware)
    print("------------------------------------------------------------------------")
    print("***** Contenido de dataframe con aplicaciones malware del dataset *****")
    print("------------------------------------------------------------------------")
    print(df_malware)
    df_malware.to_csv(malware_file, index=False)


if __name__ == '__main__':
    exportar_csv()
